// Download the following modules
// npm install fs yt-search @distube/ytdl-core

// create a ./temp folder in root
// get { formatNumber, formatRuntime } from ./myfunc.js (encrypted, so ask to the owner)

// youtube.isYouTubeUrl(<url>); to check is the url valid video url or not
// youtube.isYouTubePlaylist(<url>); to check is the url valid playlist url or not
// youtube.getPlaylistId(<url>); to extract the youtube playlist id
// await youtube.search(<query>, <type>); enter a query to search, type of listing: all/videos/playlists/live/channels/
// await youtube.getPlaylistInfo(<url>); enter a playlist url to get details
// awwit youtube.downloadVideo(<url>); enter an url to get video download link and information
// await youtube.downloadAudio(<url>); enter an url to get audio download link and information

// ⚠️ I'm too lazy to write outputs, check using console.log();
// ⚠️ Please give credits if you're using this module file
// creator: https://github.com/PikaBotz

function _0x34dd(_0x3214c2,_0x3eef40){const _0x1c6bf2=_0x1c6b();return _0x34dd=function(_0x34dd58,_0x2488cc){_0x34dd58=_0x34dd58-0x1c1;let _0x225b91=_0x1c6bf2[_0x34dd58];return _0x225b91;},_0x34dd(_0x3214c2,_0x3eef40);}function _0x1c6b(){const _0x599918=['5uUBvMy','7ZzoZBP','audio/mp4','qualityLabel','10lMGkyo','length','getInfo','\x20seconds\x20ago','videoDetails','find','itag','title','createWriteStream','19653996HvEfJO','isYouTubePlaylist','pipe','115512FhnYLd','yt-search','description','video_url','finish','\x20hours\x20ago','includes','lengthSeconds','thumbnails','floor','name','random','Error\x20saving\x20audio:','\x20months\x20ago','666191CAJNZi','exports','6766RzZnDh','2146962SUepLk','author','match','then','toString','uploadDate','test','error','324qjqbbh','Invalid\x20YouTube\x20URL','hasAudio','formats','\x20days\x20ago','1\x20minute\x20ago','url','videoId','.mp3','\x20years\x20ago','8195363MwidFy','viewCount','substr','isYouTubeUrl','Invalid\x20YouTube\x20Playlist\x20URL','/myfunc','likes','1\x20second\x20ago','forEach','105608ReiMMj','Audio\x20has\x20been\x20saved\x20to\x20','No\x20suitable\x20audio\x20format\x20found','204kogwwA'];_0x1c6b=function(){return _0x599918;};return _0x1c6b();}const _0x3be122=_0x34dd;(function(_0x29309d,_0x328b79){const _0xe0c6b=_0x34dd,_0x1b8051=_0x29309d();while(!![]){try{const _0x23b0b4=parseInt(_0xe0c6b(0x1e4))/0x1+-parseInt(_0xe0c6b(0x1e6))/0x2*(parseInt(_0xe0c6b(0x1c5))/0x3)+-parseInt(_0xe0c6b(0x1d6))/0x4*(parseInt(_0xe0c6b(0x1c6))/0x5)+parseInt(_0xe0c6b(0x1e7))/0x6*(-parseInt(_0xe0c6b(0x1c7))/0x7)+-parseInt(_0xe0c6b(0x1c2))/0x8*(parseInt(_0xe0c6b(0x1ef))/0x9)+-parseInt(_0xe0c6b(0x1ca))/0xa*(parseInt(_0xe0c6b(0x1f9))/0xb)+parseInt(_0xe0c6b(0x1d3))/0xc;if(_0x23b0b4===_0x328b79)break;else _0x1b8051['push'](_0x1b8051['shift']());}catch(_0x1af48e){_0x1b8051['push'](_0x1b8051['shift']());}}}(_0x1c6b,0x7203e));const fs=require('fs'),yts=require(_0x3be122(0x1d7)),ytdl=require('@distube/ytdl-core'),{formatNumber,formatRuntime}=require(__dirname+_0x3be122(0x1fe)),ytIdRegex=/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,playlistIdRegex=/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:playlist\?list=|watch\?v=[^&]*&list=)|youtu\.be\/.*\?list=)[a-zA-Z0-9_-]{34}$/,youtube={'isYouTubeUrl':_0x49fc30=>{const _0x2955e6=_0x3be122;return ytIdRegex[_0x2955e6(0x1ed)](_0x49fc30);},'isYouTubePlaylist':_0xc9a4d6=>{return playlistIdRegex['test'](_0xc9a4d6);},'getPlaylistId':_0x4d2c4b=>{const _0x3e33f0=_0x3be122,_0x3088da=/(?:youtube\.com\/(?:playlist\?list=|watch\?v=[^&]*&list=)|youtu\.be\/[^\?]*\?list=)([a-zA-Z0-9_-]{34})/,_0x17498b=_0x4d2c4b[_0x3e33f0(0x1e9)](_0x3088da);return _0x17498b?_0x17498b[0x1]:null;},'search':async(_0x188861,_0x41eb6f)=>{const _0x3be1da=_0x3be122;if(youtube[_0x3be1da(0x1fc)](_0x188861))throw new Error('Enter\x20A\x20search\x20Term\x20Not\x20Url');const _0x2e3105=yts(_0x188861)[_0x3be1da(0x1ea)](_0xd39eb0=>{return _0xd39eb0[_0x41eb6f];});return _0x2e3105;},'getPlaylistInfo':async _0xa620b8=>{const _0x3276f1=_0x3be122;if(!youtube[_0x3276f1(0x1d4)](_0xa620b8))throw new Error(_0x3276f1(0x1fd));const _0x3a1114=getPlaylistId(_0xa620b8),_0x1c8b79=yts({'listId':_0x3a1114})[_0x3276f1(0x1ea)](_0x9c2e1b=>{return _0x9c2e1b;});return _0x1c8b79;},'downloadVideo':async _0x20508b=>{const _0x3e5b85=_0x3be122;if(!youtube[_0x3e5b85(0x1fc)](_0x20508b))throw new Error(_0x3e5b85(0x1f0));const _0x3a4a85=await ytdl[_0x3e5b85(0x1cc)](_0x20508b),_0x3887af=_0x3a4a85[_0x3e5b85(0x1f2)],_0x59c0f2={0x438:![],0x2d0:![],0x1e0:![],0x168:![]};_0x3887af[_0x3e5b85(0x1c1)](_0x2c4139=>{const _0x6078e=_0x3e5b85;if(_0x2c4139['hasVideo']&&_0x2c4139[_0x6078e(0x1f1)]&&_0x2c4139[_0x6078e(0x1c9)]){const _0x4f6fbf=parseInt(_0x2c4139[_0x6078e(0x1c9)]);_0x59c0f2[_0x4f6fbf]===![]&&(_0x59c0f2[_0x4f6fbf]=_0x2c4139[_0x6078e(0x1f5)]);}});const _0x43db95=_0x3a4a85[_0x3e5b85(0x1ce)][_0x3e5b85(0x1de)],_0x5eb015=formatRuntime(_0x3a4a85[_0x3e5b85(0x1ce)][_0x3e5b85(0x1dd)]),_0x107e33=formatDateAgo(_0x3a4a85[_0x3e5b85(0x1ce)]['uploadDate']),_0x5b3b54=formatNumber(_0x3a4a85[_0x3e5b85(0x1ce)]['viewCount']),_0x5d8673={'id':_0x3a4a85[_0x3e5b85(0x1ce)][_0x3e5b85(0x1f6)],'title':_0x3a4a85['videoDetails'][_0x3e5b85(0x1d1)],'duration':_0x5eb015,'description':_0x3a4a85[_0x3e5b85(0x1ce)][_0x3e5b85(0x1d8)],'thumbnail':_0x43db95[_0x43db95[_0x3e5b85(0x1cb)]-0x1][_0x3e5b85(0x1f5)],'views':_0x5b3b54,'author':_0x3a4a85['videoDetails'][_0x3e5b85(0x1e8)][_0x3e5b85(0x1e0)],'upload':_0x107e33,'likes':_0x3a4a85[_0x3e5b85(0x1ce)][_0x3e5b85(0x1ff)],'url':_0x3a4a85['videoDetails'][_0x3e5b85(0x1d9)],'video':_0x59c0f2};return _0x5d8673;},'downloadAudio':async _0x5c407a=>{const _0x50ccf0=_0x3be122;if(!youtube['isYouTubeUrl'](_0x5c407a))throw new Error(_0x50ccf0(0x1f0));try{const _0x505a99=await ytdl[_0x50ccf0(0x1cc)](_0x5c407a),_0xf346fa=_0x505a99[_0x50ccf0(0x1f2)],_0x1f3e6e=_0xf346fa[_0x50ccf0(0x1cf)](_0x140a62=>_0x140a62['hasAudio']&&_0x140a62['mimeType'][_0x50ccf0(0x1dc)](_0x50ccf0(0x1c8)));if(!_0x1f3e6e)throw new Error(_0x50ccf0(0x1c4));const _0x2198bf=ytdl(_0x5c407a,{'filter':_0x5bfa6b=>_0x5bfa6b[_0x50ccf0(0x1d0)]===_0x1f3e6e[_0x50ccf0(0x1d0)]}),_0x22ab23='./.temp/'+_0x505a99[_0x50ccf0(0x1ce)][_0x50ccf0(0x1f6)]+Math[_0x50ccf0(0x1e1)]()[_0x50ccf0(0x1eb)](0x24)[_0x50ccf0(0x1fb)](0x2,0x5)+_0x50ccf0(0x1f7);_0x2198bf[_0x50ccf0(0x1d5)](fs[_0x50ccf0(0x1d2)](_0x22ab23))['on'](_0x50ccf0(0x1da),()=>{const _0x365886=_0x50ccf0;console['log'](_0x365886(0x1c3)+_0x22ab23);})['on'](_0x50ccf0(0x1ee),_0x260f6a=>{const _0xa338bc=_0x50ccf0;console[_0xa338bc(0x1ee)](_0xa338bc(0x1e2),_0x260f6a);});const _0x2476c6=_0x505a99[_0x50ccf0(0x1ce)]['thumbnails'],_0x35cfb3=formatRuntime(_0x505a99[_0x50ccf0(0x1ce)][_0x50ccf0(0x1dd)]),_0x39d972=formatDateAgo(_0x505a99[_0x50ccf0(0x1ce)][_0x50ccf0(0x1ec)]),_0x58def3=formatNumber(_0x505a99['videoDetails'][_0x50ccf0(0x1fa)]),_0x53e9f4={'id':_0x505a99['videoDetails']['videoId'],'title':_0x505a99[_0x50ccf0(0x1ce)]['title'],'duration':_0x35cfb3,'description':_0x505a99[_0x50ccf0(0x1ce)][_0x50ccf0(0x1d8)],'thumbnail':_0x2476c6[_0x2476c6[_0x50ccf0(0x1cb)]-0x1][_0x50ccf0(0x1f5)],'views':_0x58def3,'author':_0x505a99[_0x50ccf0(0x1ce)][_0x50ccf0(0x1e8)][_0x50ccf0(0x1e0)],'upload':_0x39d972,'likes':_0x505a99[_0x50ccf0(0x1ce)][_0x50ccf0(0x1ff)],'url':_0x505a99['videoDetails']['video_url'],'audioPath':_0x22ab23};return _0x53e9f4;}catch(_0xb945e2){console[_0x50ccf0(0x1ee)]('Error\x20downloading\x20audio:',_0xb945e2);}}};function formatDateAgo(_0x21cef1){const _0x351ea6=_0x3be122,_0x36c550=new Date(),_0x4c10f5=new Date(_0x21cef1),_0x44dc65=_0x36c550-_0x4c10f5,_0x52533f=Math['floor'](_0x44dc65/0x3e8),_0x477706=Math['floor'](_0x52533f/0x3c),_0x13c63e=Math[_0x351ea6(0x1df)](_0x477706/0x3c),_0x4fb21c=Math[_0x351ea6(0x1df)](_0x13c63e/0x18);if(_0x4fb21c>0x16d){const _0x440e3a=Math[_0x351ea6(0x1df)](_0x4fb21c/0x16d);return _0x440e3a===0x1?'1\x20year\x20ago':_0x440e3a+_0x351ea6(0x1f8);}else{if(_0x4fb21c>0x1e){const _0x1fa3d6=Math[_0x351ea6(0x1df)](_0x4fb21c/0x1e);return _0x1fa3d6===0x1?'1\x20month\x20ago':_0x1fa3d6+_0x351ea6(0x1e3);}else{if(_0x4fb21c>=0x1)return _0x4fb21c===0x1?'1\x20day\x20ago':_0x4fb21c+_0x351ea6(0x1f3);else{if(_0x13c63e>=0x1)return _0x13c63e===0x1?'1\x20hour\x20ago':_0x13c63e+_0x351ea6(0x1db);else return _0x477706>=0x1?_0x477706===0x1?_0x351ea6(0x1f4):_0x477706+'\x20minutes\x20ago':_0x52533f===0x1?_0x351ea6(0x200):_0x52533f+_0x351ea6(0x1cd);}}}};module[_0x3be122(0x1e5)]=youtube;
