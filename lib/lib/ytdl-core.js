// Download the following modules
// npm install fs yt-search @distube/ytdl-core

// create a ./temp folder in root
// get { formatNumber, formatRuntime } from ./myfunc.js (encrypted, so ask to the owner)

// youtube.isYouTubeUrl(<url>); to check is the url valid video url or not
// youtube.isYouTubePlaylist(<url>); to check is the url valid playlist url or not
// youtube.getPlaylistId(<url>); to extract the youtube playlist id
// await youtube.search(<query>, <type>); enter a query to search, type of listing: all/videos/playlists/live/channels/
// await youtube.getPlaylistInfo(<url>); enter a playlist url to get details
// awwit youtube.downloadVideo(<url>); enter an url to get video download link and information
// await youtube.downloadAudio(<url>); enter an url to get audio download link and information

// ⚠️ I'm too lazy to write outputs, check using console.log();
// ⚠️ Please give credits if you're using this module file
// creator: https://github.com/PikaBotz

const _0x2579bf=_0x4cae;(function(_0x5cdc81,_0x30ef04){const _0x5bb959=_0x4cae,_0x1f6961=_0x5cdc81();while(!![]){try{const _0x2d0bae=parseInt(_0x5bb959(0x160))/0x1*(parseInt(_0x5bb959(0x14b))/0x2)+parseInt(_0x5bb959(0x15e))/0x3+parseInt(_0x5bb959(0x139))/0x4+parseInt(_0x5bb959(0x14c))/0x5*(-parseInt(_0x5bb959(0x13f))/0x6)+-parseInt(_0x5bb959(0x15c))/0x7+-parseInt(_0x5bb959(0x156))/0x8+-parseInt(_0x5bb959(0x150))/0x9*(-parseInt(_0x5bb959(0x146))/0xa);if(_0x2d0bae===_0x30ef04)break;else _0x1f6961['push'](_0x1f6961['shift']());}catch(_0x5a7fd9){_0x1f6961['push'](_0x1f6961['shift']());}}}(_0x16a0,0x2aa2e));const fs=require('fs'),yts=require('yt-search'),ytdl=require(_0x2579bf(0x15a)),{formatNumber,formatRuntime}=require(__dirname+_0x2579bf(0x127)),ytIdRegex=/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,playlistIdRegex=/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:playlist\?list=|watch\?v=[^&]*&list=)|youtu\.be\/.*\?list=)[a-zA-Z0-9_-]{34}$/,youtube={'isYouTubeUrl':_0x12e047=>{const _0x2830b0=_0x2579bf;return ytIdRegex[_0x2830b0(0x149)](_0x12e047);},'isYouTubePlaylist':_0x5c6943=>{return playlistIdRegex['test'](_0x5c6943);},'getPlaylistId':_0x7ff298=>{const _0x2f393b=/(?:youtube\.com\/(?:playlist\?list=|watch\?v=[^&]*&list=)|youtu\.be\/[^\?]*\?list=)([a-zA-Z0-9_-]{34})/,_0x5c5c5f=_0x7ff298['match'](_0x2f393b);return _0x5c5c5f?_0x5c5c5f[0x1]:null;},'search':async(_0xac8d1d,_0x53ac34)=>{const _0x250338=_0x2579bf;if(!youtube[_0x250338(0x13c)](_0xac8d1d))throw new Error(_0x250338(0x125));const _0x591c33=yts(_0xac8d1d)[_0x250338(0x155)](_0x105120=>{return _0x105120[_0x53ac34];});return _0x591c33;},'getPlaylistInfo':async _0x20f770=>{const _0xa080a1=_0x2579bf;if(!youtube[_0xa080a1(0x12a)](_0x20f770))throw new Error(_0xa080a1(0x134));const _0x32f565=getPlaylistId(_0x20f770),_0x362fce=yts({'listId':_0x32f565})[_0xa080a1(0x155)](_0x5e1147=>{return _0x5e1147;});return _0x362fce;},'downloadVideo':async _0x39e532=>{const _0x105bd2=_0x2579bf;if(!youtube[_0x105bd2(0x13c)](_0x39e532))throw new Error('Invalid\x20YouTube\x20URL');const _0x5b4778=await ytdl[_0x105bd2(0x135)](_0x39e532),_0x4660c9=_0x5b4778[_0x105bd2(0x138)],_0x1ac584={0x438:![],0x2d0:![],0x1e0:![],0x168:![]};_0x4660c9[_0x105bd2(0x158)](_0x39472a=>{const _0x1a7019=_0x105bd2;if(_0x39472a[_0x1a7019(0x12f)]&&_0x39472a[_0x1a7019(0x136)]&&_0x39472a[_0x1a7019(0x12e)]){const _0x5e64f4=parseInt(_0x39472a[_0x1a7019(0x12e)]);_0x1ac584[_0x5e64f4]===![]&&(_0x1ac584[_0x5e64f4]=_0x39472a[_0x1a7019(0x126)]);}});const _0x107a07=_0x5b4778[_0x105bd2(0x137)][_0x105bd2(0x129)],_0x303f7c=formatRuntime(_0x5b4778[_0x105bd2(0x137)][_0x105bd2(0x145)]),_0x6d4d93=formatDateAgo(_0x5b4778[_0x105bd2(0x137)][_0x105bd2(0x131)]),_0xa9157=formatNumber(_0x5b4778[_0x105bd2(0x137)][_0x105bd2(0x159)]),_0xfe98df={'id':_0x5b4778[_0x105bd2(0x137)][_0x105bd2(0x12d)],'title':_0x5b4778['videoDetails'][_0x105bd2(0x153)],'duration':_0x303f7c,'description':_0x5b4778[_0x105bd2(0x137)]['description'],'thumbnail':_0x107a07[_0x107a07[_0x105bd2(0x154)]-0x1][_0x105bd2(0x126)],'views':_0xa9157,'author':_0x5b4778[_0x105bd2(0x137)]['author'][_0x105bd2(0x15f)],'upload':_0x6d4d93,'likes':_0x5b4778[_0x105bd2(0x137)]['likes'],'url':_0x5b4778[_0x105bd2(0x137)]['video_url'],'video':_0x1ac584};return _0xfe98df;},'downloadAudio':async _0x3833d6=>{const _0x508979=_0x2579bf;if(!youtube[_0x508979(0x13c)](_0x3833d6))throw new Error(_0x508979(0x125));try{const _0x5e9300=await ytdl[_0x508979(0x135)](_0x3833d6),_0x2c3e53=_0x5e9300[_0x508979(0x138)],_0x4619c4=_0x2c3e53['find'](_0x5ef581=>_0x5ef581[_0x508979(0x136)]&&_0x5ef581[_0x508979(0x124)][_0x508979(0x12c)](_0x508979(0x130)));if(!_0x4619c4)throw new Error(_0x508979(0x13d));const _0x3df3da=ytdl(_0x3833d6,{'filter':_0x270786=>_0x270786[_0x508979(0x143)]===_0x4619c4[_0x508979(0x143)]}),_0x34fdfe=_0x508979(0x14d)+_0x5e9300[_0x508979(0x137)]['videoId']+Math[_0x508979(0x141)]()[_0x508979(0x157)](0x24)[_0x508979(0x142)](0x2,0x5)+_0x508979(0x152);_0x3df3da['pipe'](fs['createWriteStream'](_0x34fdfe))['on']('finish',()=>{const _0x11c62a=_0x508979;console[_0x11c62a(0x13a)]('Audio\x20has\x20been\x20saved\x20to\x20'+_0x34fdfe);})['on'](_0x508979(0x14e),_0xb23ba2=>{const _0x2f3293=_0x508979;console[_0x2f3293(0x14e)]('Error\x20saving\x20audio:',_0xb23ba2);});const _0x5c82ca=_0x5e9300[_0x508979(0x137)][_0x508979(0x129)],_0x1ed5e9=formatRuntime(_0x5e9300['videoDetails'][_0x508979(0x145)]),_0x5110ce=formatDateAgo(_0x5e9300[_0x508979(0x137)][_0x508979(0x131)]),_0x39c8d9=formatNumber(_0x5e9300[_0x508979(0x137)][_0x508979(0x159)]),_0x41c0d6={'id':_0x5e9300[_0x508979(0x137)][_0x508979(0x12d)],'title':_0x5e9300[_0x508979(0x137)][_0x508979(0x153)],'duration':_0x1ed5e9,'description':_0x5e9300[_0x508979(0x137)][_0x508979(0x133)],'thumbnail':_0x5c82ca[_0x5c82ca['length']-0x1][_0x508979(0x126)],'views':_0x39c8d9,'author':_0x5e9300[_0x508979(0x137)][_0x508979(0x15b)][_0x508979(0x15f)],'upload':_0x5110ce,'likes':_0x5e9300[_0x508979(0x137)]['likes'],'url':_0x5e9300['videoDetails'][_0x508979(0x13e)],'audioPath':_0x34fdfe};return _0x41c0d6;}catch(_0x5bda99){console[_0x508979(0x14e)](_0x508979(0x132),_0x5bda99);}}};function _0x16a0(){const _0x1d3f77=['url','/myfunc','1\x20hour\x20ago','thumbnails','isYouTubePlaylist','\x20years\x20ago','includes','videoId','qualityLabel','hasVideo','audio/mp4','uploadDate','Error\x20downloading\x20audio:','description','Invalid\x20YouTube\x20Playlist\x20URL','getInfo','hasAudio','videoDetails','formats','435804DZsxOu','log','\x20days\x20ago','isYouTubeUrl','No\x20suitable\x20audio\x20format\x20found','video_url','202218HLcGDe','\x20months\x20ago','random','substr','itag','\x20hours\x20ago','lengthSeconds','278210peiACd','\x20minutes\x20ago','\x20seconds\x20ago','test','floor','2qNiXUg','10EeAufv','./.temp/','error','1\x20minute\x20ago','9IUkvtz','1\x20second\x20ago','.mp3','title','length','then','794512HpKKNv','toString','forEach','viewCount','@distube/ytdl-core','author','1111103hzNYzH','1\x20day\x20ago','1041486FJWade','name','16153xKWIZL','mimeType','Invalid\x20YouTube\x20URL'];_0x16a0=function(){return _0x1d3f77;};return _0x16a0();}function formatDateAgo(_0x5a37b6){const _0x2ad5c8=_0x2579bf,_0x53f9dc=new Date(),_0xe962a7=new Date(_0x5a37b6),_0x528e27=_0x53f9dc-_0xe962a7,_0x2416a6=Math[_0x2ad5c8(0x14a)](_0x528e27/0x3e8),_0xc302b2=Math[_0x2ad5c8(0x14a)](_0x2416a6/0x3c),_0x5138b0=Math[_0x2ad5c8(0x14a)](_0xc302b2/0x3c),_0x373479=Math[_0x2ad5c8(0x14a)](_0x5138b0/0x18);if(_0x373479>0x16d){const _0x25331c=Math['floor'](_0x373479/0x16d);return _0x25331c===0x1?'1\x20year\x20ago':_0x25331c+_0x2ad5c8(0x12b);}else{if(_0x373479>0x1e){const _0x4884f8=Math[_0x2ad5c8(0x14a)](_0x373479/0x1e);return _0x4884f8===0x1?'1\x20month\x20ago':_0x4884f8+_0x2ad5c8(0x140);}else{if(_0x373479>=0x1)return _0x373479===0x1?_0x2ad5c8(0x15d):_0x373479+_0x2ad5c8(0x13b);else{if(_0x5138b0>=0x1)return _0x5138b0===0x1?_0x2ad5c8(0x128):_0x5138b0+_0x2ad5c8(0x144);else return _0xc302b2>=0x1?_0xc302b2===0x1?_0x2ad5c8(0x14f):_0xc302b2+_0x2ad5c8(0x147):_0x2416a6===0x1?_0x2ad5c8(0x151):_0x2416a6+_0x2ad5c8(0x148);}}}};function _0x4cae(_0x18b5b1,_0x393f01){const _0x16a0af=_0x16a0();return _0x4cae=function(_0x4caeca,_0x4e1528){_0x4caeca=_0x4caeca-0x124;let _0x2166ee=_0x16a0af[_0x4caeca];return _0x2166ee;},_0x4cae(_0x18b5b1,_0x393f01);}module['exports']=youtube;
