// Download the following modules
// npm install fs yt-search @distube/ytdl-core

// create a ./temp folder in root
// get { formatNumber, formatRuntime } from ./myfunc.js (encrypted, so ask to the owner)

// youtube.isYouTubeUrl(<url>); to check is the url valid video url or not
// youtube.isYouTubePlaylist(<url>); to check is the url valid playlist url or not
// youtube.getPlaylistId(<url>); to extract the youtube playlist id
// await youtube.search(<query>, <type>); enter a query to search, type of listing: all/videos/playlists/live/channels/
// await youtube.getPlaylistInfo(<url>); enter a playlist url to get details
// awwit youtube.downloadVideo(<url>); enter an url to get video download link and information
// await youtube.downloadAudio(<url>); enter an url to get audio download link and information

// ⚠️ I'm too lazy to write outputs, check using console.log();
// ⚠️ Please give credits if you're using this module file
// creator: https://github.com/PikaBotz

function _0x4690(){const _0x905fd2=['hasAudio','createWriteStream','lengthSeconds','match','log','3879024nrijan','3CPJscx','title','./.temp/','thumbnails','.mp3','\x20days\x20ago','486194EuVrSm','yt-search','mimeType','1\x20minute\x20ago','formats','toString','then','description','isYouTubeUrl','qualityLabel','30gPxfjS','forEach','\x20minutes\x20ago','Invalid\x20YouTube\x20Playlist\x20URL','1\x20day\x20ago','getInfo','viewCount','length','8615484yRSpIg','includes','1\x20year\x20ago','No\x20suitable\x20audio\x20format\x20found','videoDetails','Audio\x20has\x20been\x20saved\x20to\x20','name','audio/mp4','174470IXlDDv','likes','Invalid\x20YouTube\x20URL','itag','1\x20month\x20ago','\x20hours\x20ago','isYouTubePlaylist','295065JUncGM','floor','@distube/ytdl-core','test','finish','7450688OsydhW','find','1\x20second\x20ago','error','618264MMHnie','exports','url','uploadDate','\x20years\x20ago'];_0x4690=function(){return _0x905fd2;};return _0x4690();}function _0x5624(_0x1e0b52,_0x502b6d){const _0x469046=_0x4690();return _0x5624=function(_0x56240b,_0x213581){_0x56240b=_0x56240b-0x134;let _0x5391c1=_0x469046[_0x56240b];return _0x5391c1;},_0x5624(_0x1e0b52,_0x502b6d);}const _0x169871=_0x5624;(function(_0x585ec9,_0x33d625){const _0x23b63a=_0x5624,_0x3c33da=_0x585ec9();while(!![]){try{const _0x41c6fb=-parseInt(_0x23b63a(0x15e))/0x1+-parseInt(_0x23b63a(0x144))/0x2*(-parseInt(_0x23b63a(0x13e))/0x3)+-parseInt(_0x23b63a(0x13d))/0x4+-parseInt(_0x23b63a(0x165))/0x5*(parseInt(_0x23b63a(0x14e))/0x6)+parseInt(_0x23b63a(0x16a))/0x7+-parseInt(_0x23b63a(0x16e))/0x8+parseInt(_0x23b63a(0x156))/0x9;if(_0x41c6fb===_0x33d625)break;else _0x3c33da['push'](_0x3c33da['shift']());}catch(_0x52354f){_0x3c33da['push'](_0x3c33da['shift']());}}}(_0x4690,0xb6a97));const fs=require('fs'),yts=require(_0x169871(0x145)),ytdl=require(_0x169871(0x167)),{formatNumber,formatRuntime}=require(__dirname+'/myfunc'),ytIdRegex=/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,playlistIdRegex=/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:playlist\?list=|watch\?v=[^&]*&list=)|youtu\.be\/.*\?list=)[a-zA-Z0-9_-]{34}$/,youtube={'isYouTubeUrl':_0x3c3587=>{const _0x5b358a=_0x169871;return ytIdRegex[_0x5b358a(0x168)](_0x3c3587);},'isYouTubePlaylist':_0x56ee9c=>{const _0x1eb555=_0x169871;return playlistIdRegex[_0x1eb555(0x168)](_0x56ee9c);},'getPlaylistId':_0x1ac1e2=>{const _0x1cb5ce=_0x169871,_0x3db0cd=/(?:youtube\.com\/(?:playlist\?list=|watch\?v=[^&]*&list=)|youtu\.be\/[^\?]*\?list=)([a-zA-Z0-9_-]{34})/,_0x3c7ece=_0x1ac1e2[_0x1cb5ce(0x13b)](_0x3db0cd);return _0x3c7ece?_0x3c7ece[0x1]:null;},'search':async(_0x4dc89c,_0x30794a)=>{const _0x8e8837=_0x169871;if(!youtube[_0x8e8837(0x14c)](url))throw new Error(_0x8e8837(0x160));const _0x2110d1=yts(_0x4dc89c)[_0x8e8837(0x14a)](_0x411d95=>{return _0x411d95[_0x30794a];});return _0x2110d1;},'getPlaylistInfo':async _0x5f5066=>{const _0xf83bbe=_0x169871;if(!youtube[_0xf83bbe(0x164)](_0x5f5066))throw new Error(_0xf83bbe(0x151));const _0x3a13fc=getPlaylistId(_0x5f5066),_0x3d6b40=yts({'listId':_0x3a13fc})[_0xf83bbe(0x14a)](_0x4930c5=>{return _0x4930c5;});return _0x3d6b40;},'downloadVideo':async _0x551ad3=>{const _0x4c0cff=_0x169871;if(!youtube[_0x4c0cff(0x14c)](_0x551ad3))throw new Error(_0x4c0cff(0x160));const _0x3f82ea=await ytdl['getInfo'](_0x551ad3),_0x4a3dad=_0x3f82ea[_0x4c0cff(0x148)],_0x5c96ec={0x438:![],0x2d0:![],0x1e0:![],0x168:![]};_0x4a3dad[_0x4c0cff(0x14f)](_0x44f05d=>{const _0x50a527=_0x4c0cff;if(_0x44f05d['hasVideo']&&_0x44f05d['hasAudio']&&_0x44f05d[_0x50a527(0x14d)]){const _0x3b0682=parseInt(_0x44f05d['qualityLabel']);_0x5c96ec[_0x3b0682]===![]&&(_0x5c96ec[_0x3b0682]=_0x44f05d[_0x50a527(0x135)]);}});const _0x51e25b=_0x3f82ea['videoDetails'][_0x4c0cff(0x141)],_0x3ab28a=formatTimeFromSeconds(_0x3f82ea[_0x4c0cff(0x15a)]['lengthSeconds']),_0x41c8c9=formatDateAgo(_0x3f82ea[_0x4c0cff(0x15a)][_0x4c0cff(0x136)]),_0x17ea36={'id':_0x3f82ea[_0x4c0cff(0x15a)]['videoId'],'title':_0x3f82ea[_0x4c0cff(0x15a)][_0x4c0cff(0x13f)],'duration':_0x3ab28a,'description':_0x3f82ea['videoDetails'][_0x4c0cff(0x14b)],'thumbnail':_0x51e25b[_0x51e25b[_0x4c0cff(0x155)]-0x1][_0x4c0cff(0x135)],'views':_0x3f82ea['videoDetails'][_0x4c0cff(0x154)],'author':_0x3f82ea[_0x4c0cff(0x15a)]['author'][_0x4c0cff(0x15c)],'upload':_0x41c8c9,'likes':_0x3f82ea[_0x4c0cff(0x15a)][_0x4c0cff(0x15f)],'url':_0x3f82ea[_0x4c0cff(0x15a)]['video_url'],'video':_0x5c96ec};return _0x17ea36;},'downloadAudio':async _0x159a4a=>{const _0x54a509=_0x169871;if(!youtube['isYouTubeUrl'](_0x159a4a))throw new Error('Invalid\x20YouTube\x20URL');try{const _0x26c020=await ytdl[_0x54a509(0x153)](_0x159a4a),_0x144bcd=_0x26c020[_0x54a509(0x148)],_0x36114e=_0x144bcd[_0x54a509(0x16b)](_0x409797=>_0x409797[_0x54a509(0x138)]&&_0x409797[_0x54a509(0x146)][_0x54a509(0x157)](_0x54a509(0x15d)));if(!_0x36114e)throw new Error(_0x54a509(0x159));const _0x2023a0=ytdl(_0x159a4a,{'filter':_0x283f7f=>_0x283f7f[_0x54a509(0x161)]===_0x36114e[_0x54a509(0x161)]}),_0x18594c=_0x54a509(0x140)+_0x26c020[_0x54a509(0x15a)]['videoId']+Math['random']()[_0x54a509(0x149)](0x24)['substr'](0x2,0x5)+_0x54a509(0x142);_0x2023a0['pipe'](fs[_0x54a509(0x139)](_0x18594c))['on'](_0x54a509(0x169),()=>{const _0x1f17f2=_0x54a509;console[_0x1f17f2(0x13c)](_0x1f17f2(0x15b)+_0x18594c);})['on']('error',_0x55e2e3=>{const _0x28ef3c=_0x54a509;console[_0x28ef3c(0x16d)]('Error\x20saving\x20audio:',_0x55e2e3);});const _0x91bbd6=_0x26c020[_0x54a509(0x15a)][_0x54a509(0x141)],_0x5deeae=formatTimeFromSeconds(_0x26c020['videoDetails'][_0x54a509(0x13a)]),_0x46c7ac=formatDateAgo(_0x26c020['videoDetails'][_0x54a509(0x136)]),_0x3e56fd={'id':_0x26c020[_0x54a509(0x15a)]['videoId'],'title':_0x26c020['videoDetails']['title'],'duration':_0x5deeae,'description':_0x26c020[_0x54a509(0x15a)][_0x54a509(0x14b)],'thumbnail':_0x91bbd6[_0x91bbd6[_0x54a509(0x155)]-0x1]['url'],'views':_0x26c020[_0x54a509(0x15a)][_0x54a509(0x154)],'author':_0x26c020[_0x54a509(0x15a)]['author'][_0x54a509(0x15c)],'upload':_0x46c7ac,'likes':_0x26c020[_0x54a509(0x15a)][_0x54a509(0x15f)],'url':_0x26c020['videoDetails']['video_url'],'audioPath':_0x18594c};return _0x3e56fd;}catch(_0x301d4c){console['error']('Error\x20downloading\x20audio:',_0x301d4c);}}};function formatDateAgo(_0x5cca3f){const _0x50acab=_0x169871,_0x154e86=new Date(),_0x131ea2=new Date(_0x5cca3f),_0x8be773=_0x154e86-_0x131ea2,_0x3365a0=Math['floor'](_0x8be773/0x3e8),_0x334a68=Math[_0x50acab(0x166)](_0x3365a0/0x3c),_0x2086e9=Math[_0x50acab(0x166)](_0x334a68/0x3c),_0x4a2cd7=Math['floor'](_0x2086e9/0x18);if(_0x4a2cd7>0x16d){const _0x473963=Math['floor'](_0x4a2cd7/0x16d);return _0x473963===0x1?_0x50acab(0x158):_0x473963+_0x50acab(0x137);}else{if(_0x4a2cd7>0x1e){const _0x541586=Math[_0x50acab(0x166)](_0x4a2cd7/0x1e);return _0x541586===0x1?_0x50acab(0x162):_0x541586+'\x20months\x20ago';}else{if(_0x4a2cd7>=0x1)return _0x4a2cd7===0x1?_0x50acab(0x152):_0x4a2cd7+_0x50acab(0x143);else{if(_0x2086e9>=0x1)return _0x2086e9===0x1?'1\x20hour\x20ago':_0x2086e9+_0x50acab(0x163);else return _0x334a68>=0x1?_0x334a68===0x1?_0x50acab(0x147):_0x334a68+_0x50acab(0x150):_0x3365a0===0x1?_0x50acab(0x16c):_0x3365a0+'\x20seconds\x20ago';}}}};module[_0x169871(0x134)]=youtube;
