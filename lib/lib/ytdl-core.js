// Download the following modules
// npm install fs yt-search @distube/ytdl-core

// create a ./temp folder in root
// get { formatNumber, formatRuntime } from ./myfunc.js (encrypted, so ask to the owner)

// youtube.isYouTubeUrl(<url>); to check is the url valid video url or not
// youtube.isYouTubePlaylist(<url>); to check is the url valid playlist url or not
// youtube.getPlaylistId(<url>); to extract the youtube playlist id
// await youtube.search(<query>, <type>); enter a query to search, type of listing: all/videos/playlists/live/channels/
// await youtube.getPlaylistInfo(<url>); enter a playlist url to get details
// awwit youtube.downloadVideo(<url>); enter an url to get video download link and information
// await youtube.downloadAudio(<url>); enter an url to get audio download link and information

// ⚠️ I'm too lazy to write outputs, check using console.log();
// ⚠️ Please give credits if you're using this module file
// creator: https://github.com/PikaBotz

const _0x508c12=_0x50d6;(function(_0x12b12c,_0x5013c1){const _0x17d0b8=_0x50d6,_0x1d64fa=_0x12b12c();while(!![]){try{const _0x2958b7=-parseInt(_0x17d0b8(0xbb))/0x1+parseInt(_0x17d0b8(0xaf))/0x2*(-parseInt(_0x17d0b8(0xc6))/0x3)+-parseInt(_0x17d0b8(0xcc))/0x4*(-parseInt(_0x17d0b8(0xd1))/0x5)+-parseInt(_0x17d0b8(0xad))/0x6*(parseInt(_0x17d0b8(0xba))/0x7)+parseInt(_0x17d0b8(0xdc))/0x8*(parseInt(_0x17d0b8(0xc9))/0x9)+parseInt(_0x17d0b8(0xb4))/0xa+parseInt(_0x17d0b8(0xa2))/0xb;if(_0x2958b7===_0x5013c1)break;else _0x1d64fa['push'](_0x1d64fa['shift']());}catch(_0x17385f){_0x1d64fa['push'](_0x1d64fa['shift']());}}}(_0xb8d9,0x3637a));function _0x50d6(_0x5c0b4d,_0x13da5f){const _0xb8d9e0=_0xb8d9();return _0x50d6=function(_0x50d6f1,_0x29ecff){_0x50d6f1=_0x50d6f1-0xa2;let _0x140095=_0xb8d9e0[_0x50d6f1];return _0x140095;},_0x50d6(_0x5c0b4d,_0x13da5f);}const fs=require('fs'),yts=require(_0x508c12(0xab)),ytdl=require(_0x508c12(0xb3)),{formatNumber,formatRuntime}=require(__dirname+_0x508c12(0xd6)),ytIdRegex=/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,playlistIdRegex=/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:playlist\?list=|watch\?v=[^&]*&list=)|youtu\.be\/.*\?list=)[a-zA-Z0-9_-]{34}$/,youtube={'isYouTubeUrl':_0x5b89b8=>{const _0x1afd69=_0x508c12;return ytIdRegex[_0x1afd69(0xce)](_0x5b89b8);},'isYouTubePlaylist':_0x4d397c=>{const _0x13de08=_0x508c12;return playlistIdRegex[_0x13de08(0xce)](_0x4d397c);},'getPlaylistId':_0x57f286=>{const _0x537a63=_0x508c12,_0x5efd99=/(?:youtube\.com\/(?:playlist\?list=|watch\?v=[^&]*&list=)|youtu\.be\/[^\?]*\?list=)([a-zA-Z0-9_-]{34})/,_0x4d114c=_0x57f286[_0x537a63(0xd5)](_0x5efd99);return _0x4d114c?_0x4d114c[0x1]:null;},'search':async(_0x47021f,_0x2a21d7)=>{const _0x4d84aa=_0x508c12;if(!youtube[_0x4d84aa(0xb2)](url))throw new Error('Invalid\x20YouTube\x20URL');const _0x51d16f=yts(_0x47021f)[_0x4d84aa(0xd3)](_0x36af4c=>{return _0x36af4c[_0x2a21d7];});return _0x51d16f;},'getPlaylistInfo':async _0x2a4bff=>{const _0x52624f=_0x508c12;if(!youtube['isYouTubePlaylist'](_0x2a4bff))throw new Error('Invalid\x20YouTube\x20Playlist\x20URL');const _0x3cb064=getPlaylistId(_0x2a4bff),_0x53fd03=yts({'listId':_0x3cb064})[_0x52624f(0xd3)](_0x5a309c=>{return _0x5a309c;});return _0x53fd03;},'downloadVideo':async _0x474f9c=>{const _0xd1c467=_0x508c12;if(!youtube['isYouTubeUrl'](_0x474f9c))throw new Error('Invalid\x20YouTube\x20URL');const _0x51ba2f=await ytdl[_0xd1c467(0xc4)](_0x474f9c),_0x3dba08=_0x51ba2f[_0xd1c467(0xd7)],_0x51629d={0x438:![],0x2d0:![],0x1e0:![],0x168:![]};_0x3dba08[_0xd1c467(0xae)](_0x410158=>{const _0x16f1cf=_0xd1c467;if(_0x410158[_0x16f1cf(0xc5)]&&_0x410158['hasAudio']&&_0x410158[_0x16f1cf(0xc7)]){const _0x223604=parseInt(_0x410158['qualityLabel']);_0x51629d[_0x223604]===![]&&(_0x51629d[_0x223604]=_0x410158[_0x16f1cf(0xcb)]);}});const _0x453533=_0x51ba2f[_0xd1c467(0xe0)][_0xd1c467(0xc2)],_0x20a000=formatRuntime(_0x51ba2f['videoDetails'][_0xd1c467(0xa9)]),_0x76ab8f=formatDateAgo(_0x51ba2f[_0xd1c467(0xe0)][_0xd1c467(0xcd)]),_0x2c0e13=formatNumber(_0x51ba2f['videoDetails'][_0xd1c467(0xd2)]),_0x505f8e={'id':_0x51ba2f['videoDetails'][_0xd1c467(0xe2)],'title':_0x51ba2f['videoDetails'][_0xd1c467(0xd0)],'duration':_0x20a000,'description':_0x51ba2f[_0xd1c467(0xe0)]['description'],'thumbnail':_0x453533[_0x453533[_0xd1c467(0xbd)]-0x1][_0xd1c467(0xcb)],'views':_0x2c0e13,'author':_0x51ba2f[_0xd1c467(0xe0)][_0xd1c467(0xe1)][_0xd1c467(0xbf)],'upload':_0x76ab8f,'likes':_0x51ba2f[_0xd1c467(0xe0)][_0xd1c467(0xaa)],'url':_0x51ba2f[_0xd1c467(0xe0)][_0xd1c467(0xa7)],'video':_0x51629d};return _0x505f8e;},'downloadAudio':async _0x534741=>{const _0x562482=_0x508c12;if(!youtube[_0x562482(0xb2)](_0x534741))throw new Error(_0x562482(0xe4));try{const _0x140c27=await ytdl[_0x562482(0xc4)](_0x534741),_0x2be5fb=_0x140c27[_0x562482(0xd7)],_0x57ade0=_0x2be5fb[_0x562482(0xac)](_0x5a8212=>_0x5a8212['hasAudio']&&_0x5a8212[_0x562482(0xde)][_0x562482(0xdd)](_0x562482(0xb9)));if(!_0x57ade0)throw new Error('No\x20suitable\x20audio\x20format\x20found');const _0x1da2b0=ytdl(_0x534741,{'filter':_0x49a617=>_0x49a617[_0x562482(0xb7)]===_0x57ade0['itag']}),_0x2f684e=_0x562482(0xd4)+_0x140c27['videoDetails'][_0x562482(0xe2)]+Math[_0x562482(0xc0)]()[_0x562482(0xdb)](0x24)[_0x562482(0xe3)](0x2,0x5)+'.mp3';_0x1da2b0[_0x562482(0xdf)](fs[_0x562482(0xc8)](_0x2f684e))['on'](_0x562482(0xa3),()=>{const _0x33e1a6=_0x562482;console[_0x33e1a6(0xbe)](_0x33e1a6(0xa6)+_0x2f684e);})['on'](_0x562482(0xd8),_0x217b94=>{const _0x553439=_0x562482;console[_0x553439(0xd8)](_0x553439(0xb1),_0x217b94);});const _0x464793=_0x140c27[_0x562482(0xe0)]['thumbnails'],_0x4aa42d=formatRuntime(_0x140c27[_0x562482(0xe0)][_0x562482(0xa9)]),_0x5960fc=formatDateAgo(_0x140c27[_0x562482(0xe0)][_0x562482(0xcd)]),_0x52cfbd=formatNumber(_0x140c27[_0x562482(0xe0)][_0x562482(0xd2)]),_0x2707b5={'id':_0x140c27[_0x562482(0xe0)][_0x562482(0xe2)],'title':_0x140c27[_0x562482(0xe0)][_0x562482(0xd0)],'duration':_0x4aa42d,'description':_0x140c27['videoDetails'][_0x562482(0xbc)],'thumbnail':_0x464793[_0x464793[_0x562482(0xbd)]-0x1][_0x562482(0xcb)],'views':_0x52cfbd,'author':_0x140c27[_0x562482(0xe0)][_0x562482(0xe1)]['name'],'upload':_0x5960fc,'likes':_0x140c27[_0x562482(0xe0)][_0x562482(0xaa)],'url':_0x140c27[_0x562482(0xe0)][_0x562482(0xa7)],'audioPath':_0x2f684e};return _0x2707b5;}catch(_0x2712fb){console[_0x562482(0xd8)](_0x562482(0xb6),_0x2712fb);}}};function formatDateAgo(_0x15553a){const _0x4c92b4=_0x508c12,_0x1b2a6d=new Date(),_0x4f24be=new Date(_0x15553a),_0x162e28=_0x1b2a6d-_0x4f24be,_0x5c1cab=Math[_0x4c92b4(0xb5)](_0x162e28/0x3e8),_0x51663e=Math['floor'](_0x5c1cab/0x3c),_0x24423d=Math[_0x4c92b4(0xb5)](_0x51663e/0x3c),_0x126e82=Math[_0x4c92b4(0xb5)](_0x24423d/0x18);if(_0x126e82>0x16d){const _0x1f7c4c=Math[_0x4c92b4(0xb5)](_0x126e82/0x16d);return _0x1f7c4c===0x1?_0x4c92b4(0xd9):_0x1f7c4c+_0x4c92b4(0xb8);}else{if(_0x126e82>0x1e){const _0x1cffa2=Math[_0x4c92b4(0xb5)](_0x126e82/0x1e);return _0x1cffa2===0x1?_0x4c92b4(0xca):_0x1cffa2+_0x4c92b4(0xc1);}else{if(_0x126e82>=0x1)return _0x126e82===0x1?_0x4c92b4(0xcf):_0x126e82+_0x4c92b4(0xb0);else{if(_0x24423d>=0x1)return _0x24423d===0x1?_0x4c92b4(0xda):_0x24423d+'\x20hours\x20ago';else return _0x51663e>=0x1?_0x51663e===0x1?'1\x20minute\x20ago':_0x51663e+_0x4c92b4(0xa4):_0x5c1cab===0x1?_0x4c92b4(0xc3):_0x5c1cab+_0x4c92b4(0xa5);}}}}function _0xb8d9(){const _0x56aaf2=['forEach','1348ETufkF','\x20days\x20ago','Error\x20saving\x20audio:','isYouTubeUrl','@distube/ytdl-core','1386680IxWksM','floor','Error\x20downloading\x20audio:','itag','\x20years\x20ago','audio/mp4','1799TwMPFM','252350UJmGbl','description','length','log','name','random','\x20months\x20ago','thumbnails','1\x20second\x20ago','getInfo','hasVideo','1266YDJEhy','qualityLabel','createWriteStream','513fyJSPJ','1\x20month\x20ago','url','158348uzdfWQ','uploadDate','test','1\x20day\x20ago','title','35bwhsMw','viewCount','then','./.temp/','match','/myfunc','formats','error','1\x20year\x20ago','1\x20hour\x20ago','toString','54736dzOpRi','includes','mimeType','pipe','videoDetails','author','videoId','substr','Invalid\x20YouTube\x20URL','2952620hlhtGL','finish','\x20minutes\x20ago','\x20seconds\x20ago','Audio\x20has\x20been\x20saved\x20to\x20','video_url','exports','lengthSeconds','likes','yt-search','find','7362ICGsjO'];_0xb8d9=function(){return _0x56aaf2;};return _0xb8d9();};module[_0x508c12(0xa8)]=youtube;
