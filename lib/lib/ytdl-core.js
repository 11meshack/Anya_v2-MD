// Download the following modules
// npm install yt-search @distube/ytdl-core

// youtube.isYouTubeUrl(<url>); to check is the url valid video url or not
// youtube.isYouTubePlaylist(<url>); to check is the url valid playlist url or not
// youtube.getPlaylistId(<url>); to extract the youtube playlist id
// await youtube.search(<query>, <type>); enter a query to search, type of listing: all/video/playlist/live
// await youtube.getPlaylistInfo(<url>); enter a playlist url to get details
// awwit youtube.downloadVideo(<url>); enter an url to get video download link and information
// await youtube.downloadAudio(<url>); enter an url to get audio download link and information

// ⚠️ I'm too lazy to write outputs, check using console.log();

const _0xde0997=_0x2829;(function(_0x533c91,_0xc39302){const _0x2536fb=_0x2829,_0x253534=_0x533c91();while(!![]){try{const _0x589939=parseInt(_0x2536fb(0xb4))/0x1+parseInt(_0x2536fb(0xdc))/0x2*(-parseInt(_0x2536fb(0xae))/0x3)+parseInt(_0x2536fb(0xcf))/0x4+-parseInt(_0x2536fb(0xe7))/0x5*(-parseInt(_0x2536fb(0xb7))/0x6)+-parseInt(_0x2536fb(0xb6))/0x7+-parseInt(_0x2536fb(0xe8))/0x8+parseInt(_0x2536fb(0xea))/0x9;if(_0x589939===_0xc39302)break;else _0x253534['push'](_0x253534['shift']());}catch(_0x37a1f4){_0x253534['push'](_0x253534['shift']());}}}(_0x4fd8,0x21b7b));function _0x2829(_0xb02302,_0x58bb30){const _0x4fd8bf=_0x4fd8();return _0x2829=function(_0x282989,_0x3e3ac5){_0x282989=_0x282989-0xaa;let _0x738a21=_0x4fd8bf[_0x282989];return _0x738a21;},_0x2829(_0xb02302,_0x58bb30);}function _0x4fd8(){const _0x51b4f7=['./.temp/','1\x20second\x20ago','pipe','createWriteStream','1\x20month\x20ago','name','1\x20hour\x20ago','Audio\x20has\x20been\x20saved\x20to\x20','viewCount','description','1\x20day\x20ago','exports','getInfo','isYouTubeUrl','thumbnails','video_url','match','random','\x20months\x20ago','Invalid\x20YouTube\x20Playlist\x20URL','1\x20minute\x20ago','videoDetails','866080ZsvpfP','uploadDate','length','videoId','error','hasAudio','Error\x20saving\x20audio:','includes','then','substr','url','likes','finish','6220GyYpBT','toString','mimeType','floor','log','title','lengthSeconds','test','\x20seconds\x20ago','author','1\x20year\x20ago','50RSIZPx','1868008YCLwwn','@distube/ytdl-core','684594HWpFrk','audio/mp4','isYouTubePlaylist','formats','qualityLabel','54DWRDNy','Invalid\x20YouTube\x20URL','\x20hours\x20ago','\x20years\x20ago','find','No\x20suitable\x20audio\x20format\x20found','110839OtSigV','itag','319669STnSMu','41898MkcMYf','hasVideo'];_0x4fd8=function(){return _0x51b4f7;};return _0x4fd8();}const fs=require('fs'),yts=require('yt-search'),ytdl=require(_0xde0997(0xe9)),{formatNumber,formatRuntime}=require,ytIdRegex=/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,playlistIdRegex=/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:playlist\?list=|watch\?v=[^&]*&list=)|youtu\.be\/.*\?list=)[a-zA-Z0-9_-]{34}$/,youtube={'isYouTubeUrl':_0x378fc0=>{const _0x57ff2d=_0xde0997;return ytIdRegex[_0x57ff2d(0xe3)](_0x378fc0);},'isYouTubePlaylist':_0x7eb6c9=>{const _0x1409d7=_0xde0997;return playlistIdRegex[_0x1409d7(0xe3)](_0x7eb6c9);},'getPlaylistId':_0x194ec1=>{const _0x3fa1ff=_0xde0997,_0x4c6a55=/(?:youtube\.com\/(?:playlist\?list=|watch\?v=[^&]*&list=)|youtu\.be\/[^\?]*\?list=)([a-zA-Z0-9_-]{34})/,_0x1a9345=_0x194ec1[_0x3fa1ff(0xc9)](_0x4c6a55);return _0x1a9345?_0x1a9345[0x1]:null;},'search':async(_0x3b6b47,_0xde1146)=>{const _0x4a0eba=_0xde0997;if(!youtube[_0x4a0eba(0xc6)](url))throw new Error(_0x4a0eba(0xaf));const _0x172b75=yts(_0x3b6b47)[_0x4a0eba(0xd7)](_0x3423eb=>{return _0x3423eb[_0xde1146];});return _0x172b75;},'getPlaylistInfo':async _0x11d1e3=>{const _0xc3cf2b=_0xde0997;if(!youtube[_0xc3cf2b(0xab)](_0x11d1e3))throw new Error(_0xc3cf2b(0xcc));const _0x257ec7=getPlaylistId(_0x11d1e3),_0x317be4=yts({'listId':_0x257ec7})[_0xc3cf2b(0xd7)](_0x2ae494=>{return _0x2ae494;});return _0x317be4;},'downloadVideo':async _0xff2fac=>{const _0x450c2a=_0xde0997;if(!youtube['isYouTubeUrl'](_0xff2fac))throw new Error('Invalid\x20YouTube\x20URL');const _0x445aa8=await ytdl[_0x450c2a(0xc5)](_0xff2fac),_0x33100d=_0x445aa8['formats'],_0x5a7208={0x438:![],0x2d0:![],0x1e0:![],0x168:![]};_0x33100d['forEach'](_0x2c1ae9=>{const _0x57e597=_0x450c2a;if(_0x2c1ae9[_0x57e597(0xb8)]&&_0x2c1ae9[_0x57e597(0xd4)]&&_0x2c1ae9[_0x57e597(0xad)]){const _0x2bd3c4=parseInt(_0x2c1ae9[_0x57e597(0xad)]);_0x5a7208[_0x2bd3c4]===![]&&(_0x5a7208[_0x2bd3c4]=_0x2c1ae9['url']);}});const _0x148a77=_0x445aa8[_0x450c2a(0xce)][_0x450c2a(0xc7)],_0x58e9fc=formatTimeFromSeconds(_0x445aa8[_0x450c2a(0xce)][_0x450c2a(0xe2)]),_0x418aa6=formatDateAgo(_0x445aa8['videoDetails'][_0x450c2a(0xd0)]),_0x4e3e10={'id':_0x445aa8[_0x450c2a(0xce)][_0x450c2a(0xd2)],'title':_0x445aa8[_0x450c2a(0xce)][_0x450c2a(0xe1)],'duration':_0x58e9fc,'description':_0x445aa8[_0x450c2a(0xce)]['description'],'thumbnail':_0x148a77[_0x148a77[_0x450c2a(0xd1)]-0x1]['url'],'views':_0x445aa8[_0x450c2a(0xce)][_0x450c2a(0xc1)],'author':_0x445aa8['videoDetails'][_0x450c2a(0xe5)][_0x450c2a(0xbe)],'upload':_0x418aa6,'likes':_0x445aa8[_0x450c2a(0xce)][_0x450c2a(0xda)],'url':_0x445aa8['videoDetails'][_0x450c2a(0xc8)],'video':_0x5a7208};return _0x4e3e10;},'downloadAudio':async _0x196026=>{const _0x3014be=_0xde0997;if(!youtube[_0x3014be(0xc6)](_0x196026))throw new Error(_0x3014be(0xaf));try{const _0xb347de=await ytdl[_0x3014be(0xc5)](_0x196026),_0x1840ae=_0xb347de[_0x3014be(0xac)],_0x66b858=_0x1840ae[_0x3014be(0xb2)](_0x246840=>_0x246840['hasAudio']&&_0x246840[_0x3014be(0xde)][_0x3014be(0xd6)](_0x3014be(0xaa)));if(!_0x66b858)throw new Error(_0x3014be(0xb3));const _0x4e6c9e=ytdl(_0x196026,{'filter':_0x2a9e3c=>_0x2a9e3c[_0x3014be(0xb5)]===_0x66b858['itag']}),_0x2464da=_0x3014be(0xb9)+_0xb347de['videoDetails']['videoId']+Math[_0x3014be(0xca)]()[_0x3014be(0xdd)](0x24)[_0x3014be(0xd8)](0x2,0x5)+'.mp3';_0x4e6c9e[_0x3014be(0xbb)](fs[_0x3014be(0xbc)](_0x2464da))['on'](_0x3014be(0xdb),()=>{const _0x3fe64f=_0x3014be;console[_0x3fe64f(0xe0)](_0x3fe64f(0xc0)+_0x2464da);})['on'](_0x3014be(0xd3),_0x51ad74=>{const _0x3a3808=_0x3014be;console['error'](_0x3a3808(0xd5),_0x51ad74);});const _0x3f6f82=_0xb347de[_0x3014be(0xce)]['thumbnails'],_0x37d712=formatTimeFromSeconds(_0xb347de['videoDetails'][_0x3014be(0xe2)]),_0x3586f6=formatDateAgo(_0xb347de[_0x3014be(0xce)][_0x3014be(0xd0)]),_0x54a242={'id':_0xb347de[_0x3014be(0xce)][_0x3014be(0xd2)],'title':_0xb347de[_0x3014be(0xce)][_0x3014be(0xe1)],'duration':_0x37d712,'description':_0xb347de[_0x3014be(0xce)][_0x3014be(0xc2)],'thumbnail':_0x3f6f82[_0x3f6f82[_0x3014be(0xd1)]-0x1][_0x3014be(0xd9)],'views':_0xb347de['videoDetails']['viewCount'],'author':_0xb347de[_0x3014be(0xce)]['author'][_0x3014be(0xbe)],'upload':_0x3586f6,'likes':_0xb347de[_0x3014be(0xce)][_0x3014be(0xda)],'url':_0xb347de[_0x3014be(0xce)]['video_url'],'audioPath':_0x2464da};return _0x54a242;}catch(_0x718ed4){console[_0x3014be(0xd3)]('Error\x20downloading\x20audio:',_0x718ed4);}}};function formatDateAgo(_0x4f4d5a){const _0x4e4040=_0xde0997,_0x301c34=new Date(),_0x1686f2=new Date(_0x4f4d5a),_0x32eee8=_0x301c34-_0x1686f2,_0x44f28c=Math[_0x4e4040(0xdf)](_0x32eee8/0x3e8),_0x3e3ddd=Math['floor'](_0x44f28c/0x3c),_0x24b215=Math[_0x4e4040(0xdf)](_0x3e3ddd/0x3c),_0x4ce5c7=Math[_0x4e4040(0xdf)](_0x24b215/0x18);if(_0x4ce5c7>0x16d){const _0x103cae=Math[_0x4e4040(0xdf)](_0x4ce5c7/0x16d);return _0x103cae===0x1?_0x4e4040(0xe6):_0x103cae+_0x4e4040(0xb1);}else{if(_0x4ce5c7>0x1e){const _0x1d4d0e=Math[_0x4e4040(0xdf)](_0x4ce5c7/0x1e);return _0x1d4d0e===0x1?_0x4e4040(0xbd):_0x1d4d0e+_0x4e4040(0xcb);}else{if(_0x4ce5c7>=0x1)return _0x4ce5c7===0x1?_0x4e4040(0xc3):_0x4ce5c7+'\x20days\x20ago';else{if(_0x24b215>=0x1)return _0x24b215===0x1?_0x4e4040(0xbf):_0x24b215+_0x4e4040(0xb0);else return _0x3e3ddd>=0x1?_0x3e3ddd===0x1?_0x4e4040(0xcd):_0x3e3ddd+'\x20minutes\x20ago':_0x44f28c===0x1?_0x4e4040(0xba):_0x44f28c+_0x4e4040(0xe4);}}}};module[_0xde0997(0xc4)]=youtube;
